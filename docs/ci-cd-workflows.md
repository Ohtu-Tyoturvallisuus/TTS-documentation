# GitHub Actions Workflows for HazardHunt

This document provides an overview of the GitHub Actions workflows used in the HazardHunt project. These workflows automate key tasks such as continuous integration (CI) and continuous deployment (CD) for both the frontend and backend components of the project. **Expo Application Services (EAS)** is used for the CD workflows of the frontend, while backend CD workflows deploy server-side applications.

---

## Frontend vs. Backend Workflows
Frontend workflows primarily focus on building and deploying the mobile app, while backend workflows manage server-side application deployment.

> - **Note:** Backend CD workflows were initially generated automatically by **Azure App Services**, which also created a GitHub Actions Secret for authentication. These workflows were then partially modified to meet the specific needs of the project.

---

## Frontend CI/CD Workflows

### The Purpose of CI Workflows
These workflows handle continuous integration tasks for the different branches, including tests and linting.
> - **Note:** All the CI workflows can be triggered manually via `workflow_dispatch`.

### The Purpose of CD Workflows
These workflows handle the continuous deployment tasks for the different environments, including building and submitting the app for both iOS and Android platforms.
> - **Note:** All the CD workflows are triggered only manually via `workflow_dispatch`.

#### 1. CI-HazardHunt

**Triggers:**
- `pull_request` events on the `main` branch.

[**CI-HazardHunt Configuration**](https://github.com/Ohtu-Tyoturvallisuus/TTS-frontend/blob/main/.github/workflows/ci-main.yml)

#### 2. CI-HazardHunt-UAT

**Triggers:**
- `push` events on the `uat` branch.

[**CI-HazardHunt-UAT Configuration**](https://github.com/Ohtu-Tyoturvallisuus/TTS-frontend/blob/main/.github/workflows/ci-uat.yml)

#### 3. CI-HazardHunt-Production

**Triggers:**
- `push` events on the `production` branch.

[**CI-HazardHunt-Production Configuration**](https://github.com/Ohtu-Tyoturvallisuus/TTS-frontend/blob/main/.github/workflows/ci-production.yml)

#### 4. CD-HazardHunt

[**CD-HazardHunt Configuration**](https://github.com/Ohtu-Tyoturvallisuus/TTS-frontend/blob/main/.github/workflows/eas-build-submit-all.yml)

#### 5. CD-HazardHunt-UAT

[**CD-HazardHunt-UAT Configuration**](https://github.com/Ohtu-Tyoturvallisuus/TTS-frontend/blob/main/.github/workflows/eas-build-submit-all-uat.yml)

#### 6. CD-HazardHunt-Production

[**CD-HazardHunt-Production Configuration**](https://github.com/Ohtu-Tyoturvallisuus/TTS-frontend/blob/main/.github/workflows/eas-build-submit-all-prod.yml)

---

## Backend CI/CD Workflows

### The Purpose of CI Workflows
These workflows handle continuous integration tasks for the different branches, including tests and linting.
> - **Note:** All the CI workflows can be triggered manually via `workflow_dispatch`.

### The Purpose of CD Workflows
These workflows handle the continuous deployment tasks for the different environments, including building and deploying the application.
> - **Note:** Backend CD workflows were automatically generated by Azure App Services and partially modified to fit the project's needs. Azure also created a **GitHub Actions Secret** to manage authentication.

#### 1. CI-HazardHunt

**Triggers:**
- `pull_request` events on the `main` branch.

[**CI-HazardHunt Configuration**](https://github.com/Ohtu-Tyoturvallisuus/TTS-backend/blob/main/.github/workflows/ci-main.yml)

#### 2. CI-HazardHunt-UAT

**Triggers:**
- `push` events on the `uat` branch.

[**CI-HazardHunt-UAT Configuration**](https://github.com/Ohtu-Tyoturvallisuus/TTS-backend/blob/main/.github/workflows/ci-uat.yml)

#### 3. CI-HazardHunt-Production

**Triggers:**
- `push` events on the `production` branch.

[**CI-HazardHunt-Production Configuration**](https://github.com/Ohtu-Tyoturvallisuus/TTS-backend/blob/main/.github/workflows/ci-production.yml)

#### 4. CD-HazardHunt

[**CD-HazardHunt Configuration**](https://github.com/Ohtu-Tyoturvallisuus/TTS-backend/blob/main/.github/workflows/main_tts-app.yml)

#### 5. CD-HazardHunt-UAT

[**CD-HazardHunt-UAT Configuration**](https://github.com/Ohtu-Tyoturvallisuus/TTS-backend/blob/main/.github/workflows/uat_tts-app-uat.yml)

#### 6. CD-HazardHunt-Production

[**CD-HazardHunt-Production Configuration**](https://github.com/Ohtu-Tyoturvallisuus/TTS-backend/blob/main/.github/workflows/production_tts-app-prod.yml)

---

## Conclusion

The GitHub Actions workflows for HazardHunt automate essential CI/CD tasks, ensuring efficient validation and deployment processes for both frontend and backend components. By leveraging these workflows:
- Developers can maintain code quality through automated testing.
- Teams can confidently deploy applications to testing and production environments.

### Recommendations
1. **Align Workflow Triggers with Development Needs**:
   - Ensure that automated triggers (e.g., `push` and `pull_request`) align with the team's workflow to minimize manual intervention.
2. **Documentation for New Developers**:
   - Provide usage examples or training for triggering manual workflows via `workflow_dispatch`.
3. **Monitor Workflow Execution**:
   - Regularly review workflow logs to identify bottlenecks or areas for optimization.
4. **Backend Workflow Maintenance**:
   - Keep Azure-generated secrets secure and document the authentication process for future developers who may need to update or regenerate secrets.

---